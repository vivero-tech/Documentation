------------------------- MODULE Counterexample -------------------------

\* Transition 0: State 0 to State 1:

ConstInit == Proposer = 0 :> "f3" @@ 1 :> "f3" @@ 2 :> "f3"

\* Transition 0: State 0 to State 1:

State1 ==
  Proposer = 0 :> "f3" @@ 1 :> "f3" @@ 2 :> "f3"
    /\ decision = "c1" :> "None" @@ "c2" :> "None"
    /\ evidence = {}
    /\ lockedRound = "c1" :> -1 @@ "c2" :> -1
    /\ lockedValue = "c1" :> "None" @@ "c2" :> "None"
    /\ msgsPrecommit
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"] }
    /\ msgsPrevote
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PREVOTE"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PREVOTE"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PREVOTE"] }
    /\ msgsPropose
      = 0
          :> { [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 1
          :> { [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 2
          :> { [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
    /\ round = "c1" :> 0 @@ "c2" :> 0
    /\ step = "c1" :> "PROPOSE" @@ "c2" :> "PROPOSE"
    /\ validRound = "c1" :> -1 @@ "c2" :> -1
    /\ validValue = "c1" :> "None" @@ "c2" :> "None"

\* Transition 0: State 1 to State 2:

State2 ==
  Proposer = 0 :> "f3" @@ 1 :> "f3" @@ 2 :> "f3"
    /\ decision = "c1" :> "None" @@ "c2" :> "None"
    /\ evidence
      = {[proposal |-> "v1",
        round |-> 0,
        src |-> "f3",
        type |-> "PROPOSAL",
        validRound |-> -1]}
    /\ lockedRound = "c1" :> -1 @@ "c2" :> -1
    /\ lockedValue = "c1" :> "None" @@ "c2" :> "None"
    /\ msgsPrecommit
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"] }
    /\ msgsPrevote
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "c2", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PREVOTE"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PREVOTE"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PREVOTE"] }
    /\ msgsPropose
      = 0
          :> { [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 1
          :> { [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 2
          :> { [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
    /\ round = "c1" :> 0 @@ "c2" :> 0
    /\ step = "c1" :> "PROPOSE" @@ "c2" :> "PREVOTE"
    /\ validRound = "c1" :> -1 @@ "c2" :> -1
    /\ validValue = "c1" :> "None" @@ "c2" :> "None"

\* Transition 5: State 2 to State 3:

State3 ==
  Proposer = 0 :> "f3" @@ 1 :> "f3" @@ 2 :> "f3"
    /\ decision = "c1" :> "None" @@ "c2" :> "None"
    /\ evidence
      = { [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
        [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
        [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
        [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
        [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
        [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
        [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
        [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
        [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
        [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
        [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
        [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
        [proposal |-> "v0",
          round |-> 2,
          src |-> "f3",
          type |-> "PROPOSAL",
          validRound |-> -1],
        [proposal |-> "v0",
          round |-> 2,
          src |-> "f3",
          type |-> "PROPOSAL",
          validRound |-> 0],
        [proposal |-> "v0",
          round |-> 2,
          src |-> "f3",
          type |-> "PROPOSAL",
          validRound |-> 1],
        [proposal |-> "v0",
          round |-> 2,
          src |-> "f3",
          type |-> "PROPOSAL",
          validRound |-> 2],
        [proposal |-> "v0",
          round |-> 2,
          src |-> "f4",
          type |-> "PROPOSAL",
          validRound |-> -1],
        [proposal |-> "v0",
          round |-> 2,
          src |-> "f4",
          type |-> "PROPOSAL",
          validRound |-> 0],
        [proposal |-> "v0",
          round |-> 2,
          src |-> "f4",
          type |-> "PROPOSAL",
          validRound |-> 1],
        [proposal |-> "v0",
          round |-> 2,
          src |-> "f4",
          type |-> "PROPOSAL",
          validRound |-> 2],
        [proposal |-> "v1",
          round |-> 2,
          src |-> "f3",
          type |-> "PROPOSAL",
          validRound |-> -1],
        [proposal |-> "v1",
          round |-> 2,
          src |-> "f3",
          type |-> "PROPOSAL",
          validRound |-> 0],
        [proposal |-> "v1",
          round |-> 2,
          src |-> "f3",
          type |-> "PROPOSAL",
          validRound |-> 1],
        [proposal |-> "v1",
          round |-> 2,
          src |-> "f3",
          type |-> "PROPOSAL",
          validRound |-> 2],
        [proposal |-> "v1",
          round |-> 2,
          src |-> "f4",
          type |-> "PROPOSAL",
          validRound |-> -1],
        [proposal |-> "v1",
          round |-> 2,
          src |-> "f4",
          type |-> "PROPOSAL",
          validRound |-> 0],
        [proposal |-> "v1",
          round |-> 2,
          src |-> "f4",
          type |-> "PROPOSAL",
          validRound |-> 1],
        [proposal |-> "v1",
          round |-> 2,
          src |-> "f4",
          type |-> "PROPOSAL",
          validRound |-> 2],
        [proposal |-> "v2",
          round |-> 2,
          src |-> "f3",
          type |-> "PROPOSAL",
          validRound |-> -1],
        [proposal |-> "v2",
          round |-> 2,
          src |-> "f3",
          type |-> "PROPOSAL",
          validRound |-> 0],
        [proposal |-> "v2",
          round |-> 2,
          src |-> "f3",
          type |-> "PROPOSAL",
          validRound |-> 1],
        [proposal |-> "v2",
          round |-> 2,
          src |-> "f3",
          type |-> "PROPOSAL",
          validRound |-> 2],
        [proposal |-> "v2",
          round |-> 2,
          src |-> "f4",
          type |-> "PROPOSAL",
          validRound |-> -1],
        [proposal |-> "v2",
          round |-> 2,
          src |-> "f4",
          type |-> "PROPOSAL",
          validRound |-> 0],
        [proposal |-> "v2",
          round |-> 2,
          src |-> "f4",
          type |-> "PROPOSAL",
          validRound |-> 1],
        [proposal |-> "v2",
          round |-> 2,
          src |-> "f4",
          type |-> "PROPOSAL",
          validRound |-> 2] }
    /\ lockedRound = "c1" :> -1 @@ "c2" :> -1
    /\ lockedValue = "c1" :> "None" @@ "c2" :> "None"
    /\ msgsPrecommit
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"] }
    /\ msgsPrevote
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "c2", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PREVOTE"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PREVOTE"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PREVOTE"] }
    /\ msgsPropose
      = 0
          :> { [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 1
          :> { [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 2
          :> { [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
    /\ round = "c1" :> 2 @@ "c2" :> 0
    /\ step = "c1" :> "PROPOSE" @@ "c2" :> "PREVOTE"
    /\ validRound = "c1" :> -1 @@ "c2" :> -1
    /\ validValue = "c1" :> "None" @@ "c2" :> "None"

\* Transition 9: State 3 to State 4:

State4 ==
  Proposer = 0 :> "f3" @@ 1 :> "f3" @@ 2 :> "f3"
    /\ decision = "c1" :> "None" @@ "c2" :> "None"
    /\ evidence
      = { [id |-> "v1", round |-> 0, src |-> "c2", type |-> "PREVOTE"],
        [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
        [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
        [proposal |-> "v1",
          round |-> 0,
          src |-> "f3",
          type |-> "PROPOSAL",
          validRound |-> 0] }
    /\ lockedRound = "c1" :> -1 @@ "c2" :> 0
    /\ lockedValue = "c1" :> "None" @@ "c2" :> "v1"
    /\ msgsPrecommit
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "c2", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"] }
    /\ msgsPrevote
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "c2", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PREVOTE"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PREVOTE"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PREVOTE"] }
    /\ msgsPropose
      = 0
          :> { [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 1
          :> { [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 2
          :> { [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
    /\ round = "c1" :> 2 @@ "c2" :> 0
    /\ step = "c1" :> "PROPOSE" @@ "c2" :> "PRECOMMIT"
    /\ validRound = "c1" :> -1 @@ "c2" :> 0
    /\ validValue = "c1" :> "None" @@ "c2" :> "v1"

\* Transition 0: State 4 to State 5:

State5 ==
  Proposer = 0 :> "f3" @@ 1 :> "f3" @@ 2 :> "f3"
    /\ decision = "c1" :> "None" @@ "c2" :> "None"
    /\ evidence
      = {[proposal |-> "v0",
        round |-> 2,
        src |-> "f3",
        type |-> "PROPOSAL",
        validRound |-> -1]}
    /\ lockedRound = "c1" :> -1 @@ "c2" :> 0
    /\ lockedValue = "c1" :> "None" @@ "c2" :> "v1"
    /\ msgsPrecommit
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "c2", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"] }
    /\ msgsPrevote
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "c2", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PREVOTE"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PREVOTE"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "c1", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PREVOTE"] }
    /\ msgsPropose
      = 0
          :> { [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 1
          :> { [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 2
          :> { [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
    /\ round = "c1" :> 2 @@ "c2" :> 0
    /\ step = "c1" :> "PREVOTE" @@ "c2" :> "PRECOMMIT"
    /\ validRound = "c1" :> -1 @@ "c2" :> 0
    /\ validValue = "c1" :> "None" @@ "c2" :> "v1"

\* Transition 5: State 5 to State 6:

State6 ==
  Proposer = 0 :> "f3" @@ 1 :> "f3" @@ 2 :> "f3"
    /\ decision = "c1" :> "None" @@ "c2" :> "v1"
    /\ evidence
      = { [id |-> "v1", round |-> 0, src |-> "c2", type |-> "PRECOMMIT"],
        [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
        [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
        [proposal |-> "v1",
          round |-> 0,
          src |-> "f3",
          type |-> "PROPOSAL",
          validRound |-> -1] }
    /\ lockedRound = "c1" :> -1 @@ "c2" :> 0
    /\ lockedValue = "c1" :> "None" @@ "c2" :> "v1"
    /\ msgsPrecommit
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "c2", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"] }
    /\ msgsPrevote
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "c2", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PREVOTE"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PREVOTE"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "c1", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PREVOTE"] }
    /\ msgsPropose
      = 0
          :> { [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 1
          :> { [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 2
          :> { [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
    /\ round = "c1" :> 2 @@ "c2" :> 0
    /\ step = "c1" :> "PREVOTE" @@ "c2" :> "DECIDED"
    /\ validRound = "c1" :> -1 @@ "c2" :> 0
    /\ validValue = "c1" :> "None" @@ "c2" :> "v1"

\* Transition 7: State 6 to State 7:

State7 ==
  Proposer = 0 :> "f3" @@ 1 :> "f3" @@ 2 :> "f3"
    /\ decision = "c1" :> "None" @@ "c2" :> "v1"
    /\ evidence
      = { [id |-> "v0", round |-> 2, src |-> "c1", type |-> "PREVOTE"],
        [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
        [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
        [proposal |-> "v0",
          round |-> 2,
          src |-> "f3",
          type |-> "PROPOSAL",
          validRound |-> 1] }
    /\ lockedRound = "c1" :> 2 @@ "c2" :> 0
    /\ lockedValue = "c1" :> "v0" @@ "c2" :> "v1"
    /\ msgsPrecommit
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "c2", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "c1", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"] }
    /\ msgsPrevote
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "c2", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PREVOTE"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PREVOTE"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "c1", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PREVOTE"] }
    /\ msgsPropose
      = 0
          :> { [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 1
          :> { [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 2
          :> { [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
    /\ round = "c1" :> 2 @@ "c2" :> 0
    /\ step = "c1" :> "PRECOMMIT" @@ "c2" :> "DECIDED"
    /\ validRound = "c1" :> 2 @@ "c2" :> 0
    /\ validValue = "c1" :> "v0" @@ "c2" :> "v1"

\* Transition 0: State 7 to State 8:

State8 ==
  Proposer = 0 :> "f3" @@ 1 :> "f3" @@ 2 :> "f3"
    /\ decision = "c1" :> "None" @@ "c2" :> "v1"
    /\ evidence
      = { [id |-> "v0", round |-> 2, src |-> "c1", type |-> "PREVOTE"],
        [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
        [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
        [proposal |-> "v0",
          round |-> 2,
          src |-> "f3",
          type |-> "PROPOSAL",
          validRound |-> -1] }
    /\ lockedRound = "c1" :> 2 @@ "c2" :> 0
    /\ lockedValue = "c1" :> "v0" @@ "c2" :> "v1"
    /\ msgsPrecommit
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "c2", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "c1", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"] }
    /\ msgsPrevote
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "c2", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PREVOTE"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PREVOTE"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "c1", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PREVOTE"] }
    /\ msgsPropose
      = 0
          :> { [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 1
          :> { [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 2
          :> { [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
    /\ round = "c1" :> 2 @@ "c2" :> 0
    /\ step = "c1" :> "PRECOMMIT" @@ "c2" :> "DECIDED"
    /\ validRound = "c1" :> 2 @@ "c2" :> 0
    /\ validValue = "c1" :> "v0" @@ "c2" :> "v1"

\* Transition 2: State 8 to State 9:

State9 ==
  Proposer = 0 :> "f3" @@ 1 :> "f3" @@ 2 :> "f3"
    /\ decision = "c1" :> "v0" @@ "c2" :> "v1"
    /\ evidence
      = { [id |-> "v0", round |-> 2, src |-> "c1", type |-> "PRECOMMIT"],
        [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
        [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
        [proposal |-> "v0",
          round |-> 2,
          src |-> "f3",
          type |-> "PROPOSAL",
          validRound |-> 2] }
    /\ lockedRound = "c1" :> 2 @@ "c2" :> 0
    /\ lockedValue = "c1" :> "v0" @@ "c2" :> "v1"
    /\ msgsPrecommit
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "c2", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PRECOMMIT"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "c1", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PRECOMMIT"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PRECOMMIT"] }
    /\ msgsPrevote
      = 0
          :> { [id |-> "v0", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "c2", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 0, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 0, src |-> "f4", type |-> "PREVOTE"] }
        @@ 1
          :> { [id |-> "v0", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 1, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 1, src |-> "f4", type |-> "PREVOTE"] }
        @@ 2
          :> { [id |-> "v0", round |-> 2, src |-> "c1", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v0", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v1", round |-> 2, src |-> "f4", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f3", type |-> "PREVOTE"],
            [id |-> "v2", round |-> 2, src |-> "f4", type |-> "PREVOTE"] }
    /\ msgsPropose
      = 0
          :> { [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 0,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 1
          :> { [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 1,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
        @@ 2
          :> { [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v0",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v1",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f3",
              type |-> "PROPOSAL",
              validRound |-> 2],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> -1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 0],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 1],
            [proposal |-> "v2",
              round |-> 2,
              src |-> "f4",
              type |-> "PROPOSAL",
              validRound |-> 2] }
    /\ round = "c1" :> 2 @@ "c2" :> 0
    /\ step = "c1" :> "DECIDED" @@ "c2" :> "DECIDED"
    /\ validRound = "c1" :> 2 @@ "c2" :> 0
    /\ validValue = "c1" :> "v0" @@ "c2" :> "v1"

(* The following formula holds true in State9 and violates the invariant *)
InvariantViolation ==
  BMC!Skolem((\E p$20 \in { "c1", "c2" }:
    BMC!Skolem((\E q$2 \in { "c1", "c2" }:
      ~(decision[p$20] = "None")
        /\ ~(decision[q$2] = "None")
        /\ ~(decision[p$20] = decision[q$2])))))
================================================================================
\* Created Tue Mar 10 18:32:04 CET 2020 by Apalache
\* https://github.com/konnov/apalache
